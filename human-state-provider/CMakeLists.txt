cmake_minimum_required(VERSION 3.0)

project(human-state-provider CXX)

## Find packages
find_package(YARP REQUIRED)

# Generate thrift files  
yarp_idl_to_dir("${CMAKE_CURRENT_SOURCE_DIR}/thrifts/HumanState.thrift" "${CMAKE_CURRENT_BINARY_DIR}/autogenerated" THRIFT_STATE_SOURCES THRIFT_STATE_HEADERS THRIFT_STATE_INCLUDE_DIRS)

add_library("${PROJECT_NAME}-data" ${THRIFT_STATE_SOURCES} ${THRIFT_STATE_HEADERS})
target_include_directories("${PROJECT_NAME}-data" SYSTEM PUBLIC ${THRIFT_STATE_INCLUDE_DIRS})
target_include_directories("${PROJECT_NAME}-data" SYSTEM PUBLIC ${YARP_INCLUDE_DIRS})
target_link_libraries("${PROJECT_NAME}-data" YARP::YARP_OS YARP::YARP_sig)
